# ADR.001 Монолит для портала организации командировок сотрудников
<!-- Название ADR состоит из [ADR.###] [Коротко суть принятого решения] -->

* Статус: Предложено
* Владелец: kuzinrv

## Контекст
<!-- Описание проблемы, требующей решения, причин, побудивших принять решение, ограничений, действовавших на момент принятия решения -->
Портал организации командировок сотрудников предприятия

* С возможностью
  * подбор билетов
  * размещения
  * согласования
  * покупки
  * отчётности
* На Предприятии работает 5 тысяч человек
* В среднем 2 командировки приходится в год на одного сотрудника
  * (5000чел * 2) / 250раб.дней = ±40 оформлений командировок в день
* Внутренние бизнес-процессы и состав корпоративных систем давно устоялись и не меняются
* Внешние системы продажи билетов и букинга гостиниц могут быть разные и меняться со временем

## Варианты решения
<!-- Описание рассмотренных вариантов c их плюсами и минусами -->

### Вариант 1. Микросервисная архитектура
<!-- Описание варианта 1 -->
* **Плюсы**
  * Независимые компоненты (мы изначально из тз знаем, что "сервисов" несколько)
    * Разработка - Изменения в меняющихся сервисах будут даваться проще. Из тз известно об уже, как минимум, двух таких сервисах - взаимодействующих с сервисами покупки билетов и букинга гостиниц
    * Тестирование по-отдельности
    * Деплой по-отдельности
    * Независимость релизных циклов
  * Эластичность
  * Отказоустойчивость - для бизнеса важно, чтобы командировки оформлялись тогда, когда надо
  * Экосистемн`ability - проще добавлять интеграции
* **Минусы**
  * Сложнее реализовать - от команды требуется экспертиза
    * Наблюдаемость
    * Распределенные транзакции
    * Если изменения, все-таки, произойдут, то могут быть затронуты многие сервисы

### Вариант 2. Монолит
<!-- Описание варианта 2 -->
* **Плюсы**
  * Простота на старте
* **Минусы**
  * Пониженная доступность
  * Пониженная тестируемость
  * Низкая гибкость доработок

## Решение

Мы используем монолит. Выбрано ввиду стоимостью разработки, большей простотой разработки, низких требований к масштабируемости, неизменности процессов бизнса. Кроме того - это внутренний продукт, не зарабатывающий денег.

## Последствия

Для снижения рисков необходимо аккуратнее планировать и контролировать развертывание и поддержку монолита, обеспечить эффективный мониторинг.
Организовать взаимодействие модулей через четко определенные интерфейсы (чтобы, в том числе, при дальнейшем развитии продукта можно было выделить отдельные модули в микросервисы).
